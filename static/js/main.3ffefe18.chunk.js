(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(26)},21:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),l=n(11),a=n.n(l),i=(n(21),n(5)),c=(n(24),n(8)),s=n(6),u=n.n(s);const d={"\ubc15\uc790":Array.from({length:9},(e,t)=>`\ubc15\uc790-${t+1}`),"\uc74c\uacc4":Array.from({length:18},(e,t)=>`\uc74c\uacc4-${t+1}`),"\ubc30\uacbd\uc74c":Array.from({length:5},(e,t)=>`\ubc30\uacbd\uc74c-${t+1}`),"\uac15\uc138":Array.from({length:5},(e,t)=>`\uac15\uc138-${t+1}`)},p=["\ubc15\uc790","\uc74c\uacc4","\ubc30\uacbd\uc74c","\uac15\uc138"],h=["C","D","E","F","G","A","B","C'"],m={"#4284F3":["/sound/rhythm/blue/r1.mp3","/sound/rhythm/blue/r2.mp3"],"#6EC1A1":["/sound/rhythm/green/r4.mp3","/sound/rhythm/green/r21.mp3"],"#F5BC62":["/sound/rhythm/yellow/r5.mp3","/sound/rhythm/yellow/r6.mp3"],"#FE6E3D":["/sound/rhythm/orange/r7.mp3","/sound/rhythm/orange/r8_01.mp3"],"#EF7A88":["/sound/rhythm/pink/r16.mp3","/sound/rhythm/pink/r17.mp3"]},g={"#4284F3":["/harmony_new/sound/duration/blue/d5_01.mp3","/harmony_new/sound/duration/blue/d11_01.mp3"],"#6EC1A1":["/harmony_new/sound/duration/green/d1_01.mp3","/harmony_new/sound/duration/green/d6_01.mp3"],"#FE6E3D":["/harmony_new/sound/duration/orange/d4_01.mp3","/harmony_new/sound/duration/orange/d7_01.mp3"],"#EF7A88":["/harmony_new/sound/duration/pink/d24_01.mp3"],"#F5BC62":["/harmony_new/sound/duration/yellow/d2_01.mp3","/harmony_new/sound/duration/yellow/d3_01.mp3"]},y={"#4284F3":["p1","p11","p18","p19"],"#6EC1A1":["p13","p16","p22","p29","p30"],"#FE6E3D":["p3"],"#EF7A88":["p4","p6","p24","p25","p26"],"#F5BC62":["p2","p5","p7","p8","p9","p12","p15","p23"]};var k=()=>{var e;const[t,n]=Object(o.useState)([]),[l,a]=Object(o.useState)(null),[s,k]=Object(o.useState)(null),[f,E]=Object(o.useState)(null),[v,b]=Object(o.useState)(null),[C,w]=Object(o.useState)(null),[$,P]=Object(o.useState)(!1),[x,M]=Object(o.useState)(!1),[F,W]=Object(o.useState)(0),[_,A]=Object(o.useState)(!0),[D,O]=Object(o.useState)(!1),[L,S]=Object(o.useState)(""),j=Object(o.useRef)(null),B=Object(o.useRef)(t),H=Object(o.useRef)(null),I=Object(o.useRef)(null),N=Object(o.useRef)(null),R=Object(o.useRef)([]);Object(o.useEffect)(()=>{B.current=t},[t]),Object(o.useEffect)(()=>{const e=e=>{"Delete"!==e.key&&"Backspace"!==e.key||!v||(n(e=>e.filter(e=>e.id!==v)),b(null))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);const T=(e,t,n)=>{if(!e||!e.type)return;if(n-e.lastPlayed<300)return;e.lastPlayed=n;const o=e.customColor;let r=null;if(e.type.startsWith("\ubc30\uacbd\uc74c")){const e=g[o];if(!e)return;(r=new Audio(e[Math.floor(Math.random()*e.length)])).volume=.5}else if(e.type.startsWith("\uc74c\uacc4")){const n=e.group;if(!n||!t)return;const l=y[o];if(!(null===l||void 0===l?void 0:l.includes(n)))return;(r=new Audio(`/harmony_new/sound/pitch/${"#4284F3"===o?"blue":"#6EC1A1"===o?"green":"#F5BC62"===o?"yellow":"#FE6E3D"===o?"orange":"pink"}/${n}/${n}_${{C:"C",D:"D",E:"E",F:"F",G:"G",A:"A",B:"B","C'":"Cprime"}[t]}.mp3`)).volume=.7}else if(e.type.startsWith("\ubc15\uc790")){const e=m[o];if(!e)return;(r=new Audio(e[Math.floor(Math.random()*e.length)])).volume=.4}r&&(r.play().catch(()=>{}),R.current.push(r))},V=e=>{var t,n;if(!$||x)return;const o=(null===(t=j.current)||void 0===t?void 0:t.clientWidth)||800,r=(null===(n=j.current)||void 0===n?void 0:n.clientHeight)||800;H.current||(H.current=e-(I.current||0));const l=e-H.current,a=l/15e3*o;if(a>o)return P(!1),W(0),H.current=null,I.current=null,void cancelAnimationFrame(N.current);W(a),B.current.forEach(e=>{const t=e.xPercent/100*o,n=e.yPercent/100*r;if(e.type.startsWith("\ubc30\uacbd\uc74c"))0===e.lastPlayed&&T(e,null,l);else if(Math.abs(t-a)<10){const t=e.type.startsWith("\uc74c\uacc4")?((e,t)=>{const n=t/2,o=Math.round((e-n)/40+4);return h[Math.min(Math.max(o,0),7)]})(n,r):null;T(e,t,l)}}),N.current=requestAnimationFrame(V)};return r.a.createElement("section",{className:"builder-section"},r.a.createElement("div",{className:"builder-canvas"},r.a.createElement("svg",{ref:j,className:"builder-svg",onMouseMove:e=>{const t=j.current.getBoundingClientRect(),o=t.width,r=t.height;if(C){const l=B.current.map(n=>{if(n.id===C){const l=n.type.startsWith("\uac15\uc138")?200:0,a=(e.clientY-t.top-l)/r*r,i=n.type.startsWith("\uc74c\uacc4")?((e,t)=>{const n=t/2,o=Array.from({length:8},(e,t)=>n+40*(t-3.5));let r=e,l=8;for(let a of o){const t=Math.abs(e-a);t<l&&(r=a,l=t)}return r})(a,r):a;return{...n,xPercent:(e.clientX-t.left)/o*100,yPercent:i/r*100}}return n});n(l)}},onMouseUp:()=>w(null),onClick:e=>{e.target===e.currentTarget&&b(null)}},_&&Array.from({length:8}).map((e,t)=>{var n,o;const l=(null===(n=j.current)||void 0===n?void 0:n.clientHeight)||800,a=(null===(o=j.current)||void 0===o?void 0:o.clientWidth)||800,i=l/2+40*(t-3.5);return r.a.createElement("line",{key:t,x1:0,y1:i,x2:a,y2:i,stroke:"red",strokeWidth:"1"})}),t.map(e=>{var t,n;const o=(null===(t=j.current)||void 0===t?void 0:t.clientWidth)||800,l=(null===(n=j.current)||void 0===n?void 0:n.clientHeight)||800,a=e.xPercent/100*o,i=e.yPercent/100*l,c=v===e.id;if("\ubc30\uacbd\uc74c-1"===e.type){var s,u;const t=(null===(s=j.current)||void 0===s?void 0:s.clientWidth)||800,n=(null===(u=j.current)||void 0===u?void 0:u.clientHeight)||800,o=e.yPercent/100*n,l=v===e.id;return r.a.createElement("line",{key:e.id,x1:0,y1:o,x2:t,y2:o,stroke:e.customColor||"skyblue",strokeWidth:l?8:6,strokeDasharray:"12 8",onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}})}if("\ubc30\uacbd\uc74c-3"===e.type){var d,p;const t=(null===(d=j.current)||void 0===d?void 0:d.clientWidth)||800,n=(null===(p=j.current)||void 0===p?void 0:p.clientHeight)||800,o=e.yPercent/100*n,l=v===e.id;return((e,t,n,o,l,a,i)=>{let c=`M 0 ${e}`;for(let r=5;r<=t;r+=5)c+=` L ${r} ${e+10*Math.sin(.04*r)}`;return r.a.createElement("path",{key:l.id,d:c,stroke:n,strokeWidth:o?8:6,fill:"none",onMouseDown:e=>{e.stopPropagation(),a(l.id)},onClick:e=>{e.stopPropagation(),i(l.id)}})})(o,t,e.customColor||"skyblue",l,e,w,b)}if("\ubc30\uacbd\uc74c-4"===e.type){var h,m;const t=(null===(h=j.current)||void 0===h?void 0:h.clientWidth)||800,n=(null===(m=j.current)||void 0===m?void 0:m.clientHeight)||800,o=e.yPercent/100*n,l=v===e.id;return((e,t,n,o,l,a,i)=>{const c=e-145.5;return r.a.createElement("g",{key:l.id,transform:`translate(0, ${c}) scale(${t/497}, 2.5)`},r.a.createElement("path",{d:"M2 57.6559C2 57.6559 302 60.1941 316 57.6559C330 55.1177 359.27 52.9558 360.5 33.1559C361.678 14.1917 341.953 0.808148 323 2.15587C305.504 3.39998 290.266 15.6175 290.5 33.1559C290.783 54.3739 324.5 57.6559 339 57.6559C353.5 57.6559 495.5 57.6559 495.5 57.6559",stroke:n,strokeWidth:o?4:2.5,fill:"none",onMouseDown:e=>{e.stopPropagation(),a(l.id)},onClick:e=>{e.stopPropagation(),i(l.id)}}))})(o,t,e.customColor||"skyblue",l,e,w,b)}if("\ubc30\uacbd\uc74c-5"===e.type){var g,y;const t=(null===(g=j.current)||void 0===g?void 0:g.clientWidth)||800,n=(null===(y=j.current)||void 0===y?void 0:y.clientHeight)||800,o=e.yPercent/100*n,l=v===e.id;return((e,t,n,o,l,a,i)=>{const c=t/498,s=e-108;return r.a.createElement("g",{key:l.id,transform:`translate(0, ${s}) scale(${c})`},r.a.createElement("path",{d:"M2 38.5H22.8423C23.2415 38.5 23.6024 38.2626 23.7605 37.8961L32.5818 17.4468C33.012 16.4495 34.5 16.7567 34.5 17.8429V37.5C34.5 38.0523 34.9477 38.5 35.5 38.5H68.5H121.71C121.899 38.5 122.085 38.4461 122.245 38.3445L141.729 25.9891C142.166 25.7121 142.741 25.8139 143.057 26.2239L151.438 37.1198C151.909 37.7316 152.866 37.6022 153.157 36.8874L167.074 2.72768C167.488 1.7113 169 2.00749 169 3.10498V53.9332C169 54.9009 170.237 55.3043 170.808 54.5227L182.2 38.9105C182.389 38.6525 182.689 38.5 183.008 38.5H211.761C211.918 38.5 212.073 38.4629 212.213 38.3918L245.048 21.7367C245.713 21.3993 246.5 21.8826 246.5 22.6285V50.5858C246.5 51.4767 247.577 51.9229 248.207 51.2929L260.707 38.7929C260.895 38.6054 261.149 38.5 261.414 38.5H278.5C279.052 38.5 279.5 38.0523 279.5 37.5V15.6545C279.5 14.484 281.166 14.2664 281.466 15.3976L289.522 45.7021C289.727 46.4724 290.706 46.7053 291.236 46.1096L297.702 38.8356C297.891 38.6221 298.163 38.5 298.449 38.5H385.382C385.761 38.5 386.107 38.286 386.276 37.9472L392.181 26.1386C392.608 25.2837 393.877 25.4583 394.057 26.397L398.11 47.4732C398.268 48.2937 399.303 48.5703 399.849 47.9379L407.701 38.8464C407.891 38.6264 408.167 38.5 408.458 38.5H496.5",stroke:n,strokeWidth:o?4:2,strokeLinecap:"round",fill:"none",onMouseDown:e=>{e.stopPropagation(),a(l.id)},onClick:e=>{e.stopPropagation(),i(l.id)}}))})(o,t,e.customColor||"skyblue",l,e,w,b)}if(e.type.startsWith("\ubc30\uacbd\uc74c"))return r.a.createElement("line",{key:e.id,x1:0,y1:i,x2:o,y2:i,stroke:e.customColor||"skyblue",strokeWidth:c?8:6,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}});if("\uac15\uc138-1"===e.type){var k,f;const t=(null===(k=j.current)||void 0===k?void 0:k.clientWidth)||800,n=(null===(f=j.current)||void 0===f?void 0:f.clientHeight)||800;return((e,t,n,o,l,a)=>{const i=n?12:10;return r.a.createElement("rect",{key:o.id,x:0,y:e-i/2+200,width:t,height:i,fill:"#222",stroke:n?"black":"none",strokeWidth:2,onMouseDown:e=>{e.stopPropagation(),l(o.id)},onClick:e=>{e.stopPropagation(),a(o.id)}})})(e.yPercent/100*n,t,v===e.id,e,w,b)}if("\uac15\uc138-2"===e.type){var E,C;const t=(null===(E=j.current)||void 0===E?void 0:E.clientWidth)||800,n=(null===(C=j.current)||void 0===C?void 0:C.clientHeight)||800;return((e,t,n,o,l,a)=>{const i=e+200,c=i-15,s=i+15,u=[`0,${c}`,`${t},${c+15}`,`${t},${s-15}`,`0,${s}`].join(" ");return r.a.createElement("polygon",{key:o.id,points:u,fill:"#333",stroke:n?"black":"none",strokeWidth:"2",onMouseDown:e=>{e.stopPropagation(),l(o.id)},onClick:e=>{e.stopPropagation(),a(o.id)}})})(e.yPercent/100*n,t,v===e.id,e,w,b)}if("\uac15\uc138-3"===e.type){var $,P;const t=(null===($=j.current)||void 0===$?void 0:$.clientWidth)||800,n=(null===(P=j.current)||void 0===P?void 0:P.clientHeight)||800;return((e,t,n,o,l,a)=>{const i=e+200,c=i-20,s=i+20,u=t/4,d=`\n    M 0 ${c}\n    C ${u} ${c+20}, ${t-u} ${c+20}, ${t} ${c}\n    L ${t} ${s}\n    C ${t-u} ${s-20}, ${u} ${s-20}, 0 ${s}\n    Z\n  `;return r.a.createElement("path",{key:o.id,d:d,fill:"#222",stroke:n?"black":"none",strokeWidth:"2",onMouseDown:e=>{e.stopPropagation(),l(o.id)},onClick:e=>{e.stopPropagation(),a(o.id)}})})(e.yPercent/100*n,t,v===e.id,e,w,b)}if("\uac15\uc138-4"===e.type){var x,M;const t=(null===(x=j.current)||void 0===x?void 0:x.clientWidth)||800,n=(null===(M=j.current)||void 0===M?void 0:M.clientHeight)||800;return((e,t,n,o,l,a)=>{const i=e+200,c=i-.5,s=i+.5,u=.7*t,d=`\n    M 0 ${c}\n    Q ${u} ${c}, ${t} ${i-20}\n    L ${t} ${i+20}\n    Q ${u} ${s}, 0 ${s}\n    Z\n  `;return r.a.createElement("path",{key:o.id,d:d,fill:"#222",stroke:n?"black":"none",strokeWidth:"2",onMouseDown:e=>{e.stopPropagation(),l(o.id)},onClick:e=>{e.stopPropagation(),a(o.id)}})})(e.yPercent/100*n,t,v===e.id,e,w,b)}if("\uac15\uc138-5"===e.type){var F,W;const t=(null===(F=j.current)||void 0===F?void 0:F.clientWidth)||800,n=(null===(W=j.current)||void 0===W?void 0:W.clientHeight)||800;return((e,t,n,o,l,a)=>{const i=e+200,c=i-20,s=i+20,u=.3*t,d=`\n    M 0 ${c}\n    Q ${u} ${c}, ${t} ${i-.5}\n    L ${t} ${i+.5}\n    Q ${u} ${s}, 0 ${s}\n    Z\n  `;return r.a.createElement("path",{key:o.id,d:d,fill:"#222",stroke:n?"black":"none",strokeWidth:"2",onMouseDown:e=>{e.stopPropagation(),l(o.id)},onClick:e=>{e.stopPropagation(),a(o.id)}})})(e.yPercent/100*n,t,v===e.id,e,w,b)}if("\ubc15\uc790-1"===e.type){const t=24;return r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},r.a.createElement("rect",{x:a-t/2,y:i-t/2,width:t,height:t,fill:"transparent",pointerEvents:"all"}),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";const o=[],l=(arguments.length>3?arguments[3]:void 0)?5:3;for(let a=0;a<12;a++){const i=30*a*Math.PI/180,c=Math.sin(i),s=Math.cos(i),u=e,d=t,p=e+105*c,h=t-105*s;o.push(r.a.createElement("line",{key:`line-${a}`,x1:u,y1:d,x2:p,y2:h,stroke:n,strokeWidth:l})),o.push(r.a.createElement("circle",{key:`circle-a-${a}`,cx:p,cy:h,r:4/2.8,fill:n})),o.push(r.a.createElement("circle",{key:`circle-b-${a}`,cx:e-105*c,cy:t+105*s,r:4/2.8,fill:n}))}return r.a.createElement("g",null,o)}(a,i,e.customColor||"black",c))}if("\ubc15\uc790-2"===e.type){const t=24;return r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},r.a.createElement("rect",{x:a-t/2,y:i-t/2,width:t,height:t,fill:"transparent",pointerEvents:"all"}),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";const o=[],l=(arguments.length>3?arguments[3]:void 0)?5:3;for(let a=0;a<12;a++){const i=30*a*Math.PI/180,c=Math.sin(i),s=Math.cos(i),u=e+40*c,d=t-40*s,p=e+70*c,h=t-70*s;o.push(r.a.createElement("line",{key:`hollow-line-${a}`,x1:u,y1:d,x2:p,y2:h,stroke:n,strokeWidth:l,strokeLinecap:"round"}))}return r.a.createElement("g",null,o)}(a,i,e.customColor||"black",c))}if("\ubc15\uc790-3"===e.type){const t=24;return r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},r.a.createElement("rect",{x:a-t/2,y:i-t/2,width:t,height:t,fill:"transparent",pointerEvents:"all"}),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;arguments.length>4&&arguments[4],arguments.length>5&&arguments[5],arguments.length>6&&arguments[6];const l=[],a=o?5:3;for(let i=0;i<12;i++){const o=30*i*Math.PI/180,c=Math.sin(o),s=Math.cos(o),u=e+45*c,d=t-45*s,p=e+55*c,h=t-55*s;l.push(r.a.createElement("line",{key:`compact-line-${i}`,x1:u,y1:d,x2:p,y2:h,stroke:n,strokeWidth:a,strokeLinecap:"round"}))}return r.a.createElement("g",null,l)}(a,i,e.customColor||"black",c,e.id,b,w))}return"\ubc15\uc790-4"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;return r.a.createElement("g",null,r.a.createElement("circle",{cx:e,cy:t,r:90,fill:n,stroke:o?"black":"none",strokeWidth:2}),r.a.createElement("circle",{cx:e,cy:t,r:75,fill:"#F7F2EA"}))}(a,i,e.customColor||"black",c)):"\ubc15\uc790-5"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;return r.a.createElement("g",null,r.a.createElement("circle",{cx:e,cy:t,r:55,fill:n,stroke:o?"black":"none",strokeWidth:2}),r.a.createElement("circle",{cx:e,cy:t,r:42,fill:"#F7F2EA"}))}(a,i,e.customColor||"black",c)):"\ubc15\uc790-6"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;return r.a.createElement("circle",{cx:e,cy:t,r:28,fill:n,stroke:o?"black":"none",strokeWidth:2})}(a,i,e.customColor||"black",c)):"\ubc15\uc790-7"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";const o=[],l=(arguments.length>3?arguments[3]:void 0)?22:20;for(let a=0;a<12;a++){const i=30*a*Math.PI/180,c=Math.sin(i),s=Math.cos(i),u=e,d=t,p=e+95*c,h=t-95*s;o.push(r.a.createElement("line",{key:`fat-line-${a}`,x1:u,y1:d,x2:p,y2:h,stroke:n,strokeWidth:l,strokeLinecap:"round"})),o.push(r.a.createElement("circle",{key:`fat-circle-a-${a}`,cx:p,cy:h,r:8,fill:n})),o.push(r.a.createElement("circle",{key:`fat-circle-b-${a}`,cx:e-95*c,cy:t+95*s,r:8,fill:n}))}return r.a.createElement("g",null,o)}(a,i,e.customColor||"black",c)):"\ubc15\uc790-8"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";const o=[],l=(arguments.length>3?arguments[3]:void 0)?22:20;for(let a=0;a<12;a++){const i=30*a*Math.PI/180,c=Math.sin(i),s=Math.cos(i),u=30,d=u+30,p=e+c*u,h=t-s*u,m=e+c*d,g=t-s*d;o.push(r.a.createElement("line",{key:`hollow-fat-line-${a}`,x1:p,y1:h,x2:m,y2:g,stroke:n,strokeWidth:l,strokeLinecap:"round"})),o.push(r.a.createElement("circle",{key:`hollow-fat-circle-${a}`,cx:m,cy:g,r:8,fill:n}))}return r.a.createElement("g",null,o)}(a,i,e.customColor||"black",c)):"\ubc15\uc790-9"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";const o=[],l=(arguments.length>3?arguments[3]:void 0)?22:20;for(let a=0;a<12;a++){const i=30*a*Math.PI/180,c=Math.sin(i),s=Math.cos(i),u=35,d=e+20*c,p=t-20*s,h=e+c*u,m=t-s*u;o.push(r.a.createElement("line",{key:`mini-fat-line-${a}`,x1:d,y1:p,x2:h,y2:m,stroke:n,strokeWidth:l,strokeLinecap:"round"})),o.push(r.a.createElement("circle",{key:`mini-fat-circle-${a}`,cx:h,cy:m,r:8,fill:n}))}return r.a.createElement("g",null,o)}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-1"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=45*Math.sqrt(3)/2,a=[`${e},${t-l/2}`,`${e-22.5},${t+l/2}`,`${e+22.5},${t+l/2}`].join(" ");return r.a.createElement("polygon",{points:a,fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-2"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=e-20,a=t-20;return r.a.createElement("rect",{x:l,y:a,width:40,height:40,fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-3"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;return r.a.createElement("circle",{cx:e,cy:t,r:20,fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-4"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=e-10,a=t-10;return r.a.createElement("rect",{x:l,y:a,width:20,height:20,fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-5"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=e-32.5,a=t-20;return r.a.createElement("rect",{x:l,y:a,width:65,height:40,fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-6"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=`\n    M ${e-40}, ${t}\n    A 40,40 0 0,1 ${e+40},${t}\n    L ${e+40}, ${t+1}\n    L ${e-40}, ${t+1}\n    Z\n  `;return r.a.createElement("path",{d:l,fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-7"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=[`${e},${t-12.5}`,`${e-20},${t+12.5}`,`${e+20},${t+12.5}`].join(" ");return r.a.createElement("polygon",{points:l,fill:n,stroke:o?"black":"none",strokeWidth:"2",transform:`rotate(90, ${e}, ${t})`})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-8"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=e-20,a=t-20;return r.a.createElement("rect",{x:l,y:a,width:40,height:40,fill:n,stroke:o?"black":"none",strokeWidth:"2",transform:`rotate(45, ${e}, ${t})`})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-9"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;return r.a.createElement("circle",{cx:e,cy:t,r:12,fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-10"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=e-50,a=t-51;return r.a.createElement("g",{transform:`translate(${l}, ${a}) scale(0.7)`},r.a.createElement("path",{d:"M17.833 19.091C22.1743 2.46616 41.4315 -5.13429 55.9569 4.04414C60.4447 6.87988 65.7085 8.23744 71.0079 7.92586C88.1606 6.91739 101.34 22.8833 97.0993 39.5341C95.7891 44.6785 96.1246 50.1042 98.0585 55.048C104.318 71.0496 93.2062 88.5175 76.06 89.6299C70.7625 89.9735 65.706 91.9692 61.6018 95.3362C48.3178 106.234 28.271 101.064 21.9146 85.1007C19.9507 80.1687 16.4902 75.9764 12.0197 73.1136C-2.4499 63.8473 -3.72758 43.1841 9.49024 32.2058C13.574 28.814 16.4917 24.2274 17.833 19.091Z",fill:n,stroke:o?"black":"none",strokeWidth:"2"}),r.a.createElement("circle",{cx:"50",cy:"51",r:"18",fill:"#F7F2EA"}))}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-11"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=[`${e},${t-30}`,`${e+12},${t-12}`,`${e+30},${t}`,`${e+12},${t+12}`,`${e},${t+30}`,`${e-12},${t+12}`,`${e-30},${t}`,`${e-12},${t-12}`].join(" ");return r.a.createElement("polygon",{points:l,fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-12"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";const o=(arguments.length>3?arguments[3]:void 0)?20:18,l=[];for(let a=0;a<5;a++){const i=360*a/5*(Math.PI/180),c=e,s=t,u=e+20*Math.sin(i),d=t-20*Math.cos(i);l.push(r.a.createElement("line",{key:`line-${a}`,x1:c,y1:s,x2:u,y2:d,stroke:n,strokeWidth:o,strokeLinecap:"round"})),l.push(r.a.createElement("circle",{key:`cap-${a}`,cx:u,cy:d,r:8,fill:n}))}return r.a.createElement("g",null,l)}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-13"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=e-52.5,a=t-54;return r.a.createElement("g",{transform:`translate(${l}, ${a}) scale(0.7)`},r.a.createElement("path",{d:"M31.7149 4.588C33.2855 1.18983 37.249 -0.374528 40.7171 1.03499L65.852 11.2505C66.4314 11.486 67.0397 11.6429 67.6607 11.717L94.601 14.9319C98.3182 15.3755 101.031 18.6617 100.762 22.3956L98.8136 49.457C98.7687 50.0808 98.8074 50.7078 98.9288 51.3213L104.196 77.9366C104.923 81.6089 102.636 85.2043 99.0018 86.1024L72.6627 92.6118C72.0555 92.7619 71.4712 92.9925 70.9253 93.2975L47.2403 106.532C43.9723 108.358 39.8462 107.294 37.869 104.115L23.539 81.0764C23.2087 80.5453 22.8088 80.0609 22.3499 79.6359L2.44438 61.1998C-0.30214 58.656 -0.565117 54.403 1.8471 51.5403L19.3298 30.7923C19.7327 30.3141 20.0699 29.7841 20.3323 29.2164L31.7149 4.588Z",fill:n,stroke:o?"black":"none",strokeWidth:"2"}),r.a.createElement("circle",{cx:"52.5",cy:"54",r:"16",fill:"#F7F2EA"}))}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-14"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=[];for(let r=0;r<16;r++){const n=r*Math.PI/8,o=r%2===0?40:20,a=e+Math.cos(n)*o,i=t+Math.sin(n)*o;l.push(`${a},${i}`)}return r.a.createElement("polygon",{points:l.join(" "),fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-15"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black";const o=(arguments.length>3?arguments[3]:void 0)?20:18,l=[];for(let a=0;a<6;a++){const i=360*a/6*(Math.PI/180),c=e,s=t,u=e+20*Math.sin(i),d=t-20*Math.cos(i);l.push(r.a.createElement("line",{key:`line-${a}`,x1:c,y1:s,x2:u,y2:d,stroke:n,strokeWidth:o,strokeLinecap:"round"})),l.push(r.a.createElement("circle",{key:`cap-${a}`,cx:u,cy:d,r:8,fill:n}))}return r.a.createElement("g",null,l)}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-16"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=[];for(let a=0;a<12;a++){const o=360*a/12*(Math.PI/180),i=e+20*Math.cos(o),c=t+20*Math.sin(o);l.push(r.a.createElement("circle",{key:`ripple-${a}`,cx:i,cy:c,r:10,fill:n}))}return l.push(r.a.createElement("circle",{key:"hole",cx:e,cy:t,r:15,fill:"#F7F2EA"})),o&&l.push(r.a.createElement("circle",{key:"outline",cx:e,cy:t,r:28,fill:"none",stroke:"black",strokeWidth:"2"})),r.a.createElement("g",null,l)}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-17"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=[];for(let r=0;r<16;r++){const n=r*Math.PI/8,o=r%2===0?42:30,a=e+Math.cos(n)*o,i=t+Math.sin(n)*o;l.push(`${a},${i}`)}return r.a.createElement("polygon",{points:l.join(" "),fill:n,stroke:o?"black":"none",strokeWidth:"2"})}(a,i,e.customColor||"black",c)):"\uc74c\uacc4-18"===e.type?r.a.createElement("g",{key:e.id,onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}},function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",o=arguments.length>3?arguments[3]:void 0;const l=[];for(let a=0;a<8;a++){const o=360*a/8,i=e-9,c=t-40;l.push(r.a.createElement("rect",{key:`bar-${a}`,x:i,y:c,width:18,height:40,fill:n,transform:`rotate(${o}, ${e}, ${t})`}))}return o&&l.push(r.a.createElement("circle",{key:"outline",cx:e,cy:t,r:40,fill:"none",stroke:"black",strokeWidth:"2"})),r.a.createElement("g",null,l)}(a,i,e.customColor||"black",c)):r.a.createElement("circle",{key:e.id,cx:a,cy:i,r:"12",fill:e.customColor||"skyblue",stroke:c?"black":"none",strokeWidth:"2",onMouseDown:t=>{t.stopPropagation(),w(e.id)},onClick:t=>{t.stopPropagation(),b(e.id)}})}),$&&r.a.createElement("line",{x1:F,y1:0,x2:F,y2:(null===(e=j.current)||void 0===e?void 0:e.clientHeight)||800,stroke:"red",strokeWidth:2}))),r.a.createElement("div",{className:"builder-controls"},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,d[l].map(e=>r.a.createElement("button",{key:e,onClick:()=>k(e)},e))),r.a.createElement("button",{onClick:()=>a(null)},"\u2190 \uce74\ud14c\uace0\ub9ac\ub85c \ub3cc\uc544\uac00\uae30")):r.a.createElement("div",null,p.map(e=>r.a.createElement("button",{key:e,onClick:()=>{a(e),k(null)}},e))),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("button",{onClick:()=>{if(!s||!l)return;const e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\ubc15\uc790-1",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;return{id:Object(i.v4)(),xPercent:e,yPercent:t,type:n,size:o,group:null,pitch:"C",lastPlayed:0,customColor:null}}(20,50,s);if("\uc74c\uacc4"===l){const t=y[f];(null===t||void 0===t?void 0:t.length)>0&&(e.group=t[Math.floor(Math.random()*t.length)])}e.customColor=f,n([...B.current,e])}},"Add Shape"),r.a.createElement("button",{onClick:()=>{B.current.forEach(e=>e.lastPlayed=0),P(!0),M(!1),W(0),H.current=null,I.current=null,R.current=[],cancelAnimationFrame(N.current),N.current=requestAnimationFrame(V)}},"\u25b6"),r.a.createElement("button",{onClick:()=>{$&&!x&&(M(!0),I.current=performance.now()-H.current,cancelAnimationFrame(N.current),R.current.forEach(e=>e.pause()),R.current=[])}},"\u23f8"),r.a.createElement("button",{onClick:()=>{$&&x&&(M(!1),N.current=requestAnimationFrame(V))}},"\u23f5"),r.a.createElement("button",{onClick:()=>O(!0)},"\uc800\uc7a5\ud558\uae30")),D&&r.a.createElement("div",{className:"modal-overlay",onClick:()=>O(!1)},r.a.createElement("div",{className:"save-modal",onClick:e=>e.stopPropagation()},r.a.createElement("h3",null,"\uc800\uc7a5 \ubc29\ubc95 \uc120\ud0dd"),r.a.createElement("input",{type:"text",placeholder:"\uc791\uace1\uac00 \uc774\ub984 \uc785\ub825",value:L,onChange:e=>S(e.target.value)}),r.a.createElement("button",{onClick:()=>{j.current&&Object(c.a)(j.current,{backgroundColor:"#F7F2EA",cacheBust:!0,embedWebFonts:!1}).then(e=>{u()(e,"my-score.png"),Object(i.v4)(),B.current,Date.now();try{JSON.parse(localStorage.getItem("galleryItems")||"[]"),console.warn("\ud83d\uded1 localStorage \uc800\uc7a5\uc740 \ud604\uc7ac \ube44\ud65c\uc131\ud654\ub428 (\uc6a9\ub7c9 \ucd08\uacfc \ubc29\uc9c0)")}catch(t){console.error("\uac24\ub7ec\ub9ac \uc800\uc7a5 \uc2e4\ud328:",t)}}).catch(e=>{console.error("\uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc \ub610\ub294 \uc800\uc7a5 \uc2e4\ud328:",e)})}},"\ub2e4\uc6b4\ub85c\ub4dc"),r.a.createElement("button",{onClick:()=>{j.current&&Object(c.a)(j.current,{backgroundColor:"#F7F2EA",cacheBust:!0,embedWebFonts:!1}).then(e=>{u()(e,"my-score.png")}).catch(e=>{console.error("\uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc \uc2e4\ud328:",e)}),O(!1)}},"\uac24\ub7ec\ub9ac\uc5d0 \uc800\uc7a5"),r.a.createElement("button",{onClick:()=>O(!1)},"\ucde8\uc18c"))),r.a.createElement("div",{style:{marginTop:10}},["#FE6E3D","#6EC1A1","#F5BC62","#4284F3","#EF7A88"].map(e=>r.a.createElement("button",{key:e,style:{backgroundColor:e,width:24,height:24,borderRadius:"50%",marginRight:6},onClick:t=>{t.stopPropagation(),E(e),n(t=>t.map(t=>{if(t.id===v){const n=y[e],o=(null===n||void 0===n?void 0:n.length)>0?n[Math.floor(Math.random()*n.length)]:t.group;return{...t,customColor:e,group:o}}return t}))},title:e}))),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("button",{onClick:()=>A(!_)},"\ub9ac\ub4dc\uc904 ",_?"\ub044\uae30":"\ubcf4\uc774\uae30"))))},f=n(3),E=n.n(f),v=n(7);"undefined"!==typeof window&&(window.decomp=v,E.a.Common.setDecomp(v));var b=()=>{const e=Object(o.useRef)(null),t=Object(o.useRef)(null),n=Object(o.useRef)(null),[l,a]=Object(o.useState)(!1);Object(o.useEffect)(()=>{const{Engine:o,Render:r,World:l,Bodies:a,Body:i,Mouse:c,MouseConstraint:s,Events:u,Runner:d}=E.a,p=e.current,h=o.create(),m=h.world,g=d.create();t.current=h,n.current=g;const y=r.create({element:p,engine:h,options:{width:window.innerWidth,height:window.innerHeight,wireframes:!1,background:"#F7F2EA"}});Object.assign(y.canvas.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"0",pointerEvents:"auto"}),r.run(y);const k=["/harmony_new/sound/for_site/for_home/Crystal_Ping.mp3","/harmony_new/sound/for_site/for_home/Glass_Tinkle.mp3","/harmony_new/sound/for_site/for_home/Metallic_Clink.mp3","/harmony_new/sound/for_site/for_home/Muted_Xylo_Tap_3.mp3","/harmony_new/sound/for_site/for_home/Paper_Snap.mp3","/harmony_new/sound/for_site/for_home/Piano_High_Key.mp3","/harmony_new/sound/for_site/for_home/Pop.mp3","/harmony_new/sound/for_site/for_home/Soft_Harp_Pluck.mp3","/harmony_new/sound/for_site/for_home/Tiny_Bell_Ding.mp3","/harmony_new/sound/for_site/for_home/Wood_Knock.mp3"].map(e=>new Audio(e)),f=[];f.push(((e,t,n,o,r)=>{const l=Math.PI/o,i=[{x:0,y:0}];for(let a=0;a<=o;a++){const e=Math.PI-a*l;i.push({x:n*Math.cos(e),y:n*Math.sin(e)})}const c=i.map(n=>({x:n.x+e,y:n.y+t}));return a.fromVertices(e,t,[c],{restitution:.7,friction:.3,render:{fillStyle:r}},!0)})(600,-300,200,40,"#F5BC62"));const v=i.create({parts:[a.circle(900,-300,60,{restitution:.7,friction:.3,render:{fillStyle:"#F5BC62"}}),a.circle(900,-300,30,{isSensor:!0,render:{fillStyle:"#F7F2EA"}})]});f.push(v),f.push(a.rectangle(400,-300,120,420,{restitution:.7,friction:.3,render:{fillStyle:"#4284F3"}})),f.push(a.polygon(800,-300,3,80,{restitution:.7,friction:.3,render:{fillStyle:"#6EC1A1"}})),f.push(a.rectangle(1e3,-300,98,40,{restitution:.7,friction:.3,render:{fillStyle:"#EF7A88"}})),f.push(a.circle(1e3,-300,43.5,{restitution:.7,friction:.3,render:{fillStyle:"#FE6E3D"}})),f.push(a.circle(1e3,-300,82,{restitution:.7,friction:.3,render:{fillStyle:"#EF7A88"}})),f.push(a.rectangle(1e3,-300,64,66,{restitution:.7,friction:.3,render:{fillStyle:"#6EC1A1"}}));const b=(e,t,n,o,r)=>{const l=[];for(let c=0;c<12;c++){const s=30*c*Math.PI/180,u=a.rectangle(e,t,n,o,{render:{fillStyle:r}});i.setAngle(u,s),l.push(u),l.push(a.circle(e+Math.sin(s)*o/2,t-Math.cos(s)*o/2,n/2,{render:{fillStyle:r}}),a.circle(e-Math.sin(s)*o/2,t+Math.cos(s)*o/2,n/2,{render:{fillStyle:r}}))}return i.create({parts:l,restitution:.7,friction:.3})};f.push(b(600,-500,4,210,"#FE6E3D")),f.push(b(1e3,-500,19,210,"#4284F3"));const C=[a.rectangle(-50,window.innerHeight/2,100,window.innerHeight,{isStatic:!0,render:{visible:!1}}),a.rectangle(window.innerWidth+50,window.innerHeight/2,100,window.innerHeight,{isStatic:!0,render:{visible:!1}}),a.rectangle(window.innerWidth/2,window.innerHeight+50,window.innerWidth,100,{isStatic:!0,render:{visible:!1}})];l.add(m,[...f,...C]);const w=c.create(y.canvas),$=s.create(h,{mouse:w,constraint:{stiffness:.2,render:{visible:!1}}});return l.add(m,$),w.pixelRatio=y.options.pixelRatio,w.element.removeEventListener("wheel",w.mousewheel),w.element.removeEventListener("DOMMouseScroll",w.mousewheel),u.on(h,"collisionStart",e=>{e.pairs.forEach(e=>{let{bodyA:t,bodyB:n}=e;[t,n].forEach(e=>{const t=f.indexOf(e);-1!==t&&k[t]&&k[t].paused&&(k[t].currentTime=0,k[t].play().catch(()=>{}))})})}),u.on($,"mousedown",e=>{const t=e.source.body,n=f.indexOf(t);-1!==n&&k[n]&&k[n].paused&&(k[n].currentTime=0,k[n].play().catch(()=>{}))}),()=>{r.stop(y),d.stop(g),l.clear(m),o.clear(h),y.canvas.remove()}},[]);return r.a.createElement("div",{ref:e,style:{width:"100vw",height:"100vh"},onClick:l?void 0:()=>{const e=n.current,o=t.current;a(!0),document.querySelectorAll("audio").forEach(e=>{e.play().then(()=>{e.pause(),e.currentTime=0}).catch(()=>{})}),E.a.Runner.run(e,o)}},!l&&r.a.createElement("div",{style:{position:"absolute",top:"60%",left:"80%",transform:"translate(-50%, -50%)",fontSize:"22px",fontFamily:"Loos Extended",fontWeight:"400",color:"#333",zIndex:10,pointerEvents:"none",opacity:l?0:1,transition:"opacity 1s ease"}},"Click to Start"))};n(25);const C=Array.from({length:10},(e,t)=>({id:t+1,image:"/harmony_new/img/image 69.png",composer:`\uc791\uace1\uac00 ${t+1}`,likes:0,comments:[]}));var w=()=>{const[e,t]=Object(o.useState)(C),[n,l]=Object(o.useState)("latest"),a=Object(o.useRef)([]),[i,c]=Object(o.useState)([]),[s,u]=Object(o.useState)(null);Object(o.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.dataset.id;c(e=>e.includes(t)?e:[...e,t])}})},{threshold:.2});return a.current.forEach(t=>{t&&e.observe(t)}),()=>{a.current.forEach(t=>{t&&e.unobserve(t)})}},[e]);const d=[...e].sort((e,t)=>"popular"===n?t.likes-e.likes:t.id-e.id);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement("div",{className:"sort-buttons"},r.a.createElement("button",{className:`sort-button ${"latest"===n?"active":""}`,onClick:()=>l("latest")},"\ucd5c\uc2e0\uc21c"),r.a.createElement("button",{className:`sort-button ${"popular"===n?"active":""}`,onClick:()=>l("popular")},"\uc778\uae30\uc21c"))),r.a.createElement("div",{className:"gallery-grid"},d.map((e,n)=>r.a.createElement("div",{key:e.id,"data-id":e.id,ref:e=>a.current[n]=e,className:`gallery-card ${i.includes(String(e.id))?"visible":""}`,style:{transitionDelay:`${100*n}ms`},onClick:()=>console.log("\uc7ac\uc0dd\uc6a9 \ub3c4\ud615 \ub370\uc774\ud130:",e.shapeData)},r.a.createElement("img",{src:e.image,alt:"\uc545\ubcf4"}),r.a.createElement("div",{className:"card-footer"},r.a.createElement("strong",null,e.composer),r.a.createElement("button",{className:`like-button ${s===e.id?"liked":""}`,onClick:n=>{n.stopPropagation(),(e=>{t(t=>t.map(t=>t.id===e?{...t,likes:t.likes+1}:t)),u(e),setTimeout(()=>{u(null)},1e3)})(e.id)}},"\u2661 ",e.likes))))))};const $={section:{height:"100vh",width:"100vw",backgroundColor:"#4285f4",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",scrollSnapAlign:"start"},ellipse:{width:"165vw",height:"95vw",maxWidth:"1650px",maxHeight:"950px",backgroundColor:"transparent",position:"relative"}};var P=function(){return r.a.createElement("section",{style:$.section},r.a.createElement("div",{style:$.ellipse},r.a.createElement("svg",{viewBox:"0 0 1650 950",width:"100%",height:"100%",style:{position:"absolute",top:0,left:0}},r.a.createElement("ellipse",{cx:"825",cy:"475",rx:"800",ry:"380",fill:"#f7f2ea"}),r.a.createElement("path",{id:"grayEllipsePath",d:" M 75,475 A 750,356 0 1,1 1575,475 A 750,356 0 1,1 75,475 ",fill:"none"}),r.a.createElement("text",{fill:"#333",fontSize:"28",fontFamily:"Loos Extended",fontWeight:"400",letterSpacing:"2"},r.a.createElement("textPath",{href:"#grayEllipsePath",startOffset:"50%",textAnchor:"middle",dominantBaseline:"hanging"},r.a.createElement("tspan",null,r.a.createElement("tspan",{fill:"#F5BC62"},"Harmony"),"\ub294 ",r.a.createElement("tspan",{fill:"#F5BC62"},"ElevenLabs"),"\ub85c \uc0dd\uc131\ud55c \ud6a8\uacfc\uc74c\uc744 \uc2dc\uac01\uc801 \uae30\ud638\ub85c \uc815\ub9ac\ud574, \uc0ac\uc6a9\uc790\uac00 ",r.a.createElement("tspan",{fill:"#F5BC62"},"\uae30\ud638\ub9cc\uc73c\ub85c \uc9c1\uad00\uc801\uc774\uace0 \ucc3d\uc758\uc801\uc73c\ub85c \uc791\uace1"),"\ud560 \uc218 \uc788\ub294 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."),r.a.createElement("tspan",{dx:"80"},r.a.createElement("tspan",{fill:"#F5BC62"},"Elevenlabs"),"\ub294 AI \uae30\ubc18 Text to Speech \ub3c4\uad6c\ub85c ",r.a.createElement("tspan",{fill:"#F5BC62"},"\uc6d0\ud558\ub294 \ud6a8\uacfc\uc74c\uacfc \uc74c\uc131\uc744 \uc0dd\uc131"),"\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."))))))};const x={section:{width:"100vw",height:"100vh",overflow:"hidden",position:"relative",padding:0,margin:0},svg:{display:"block",position:"absolute",top:0,left:0}};var M=function(){return r.a.createElement("section",{style:x.section},r.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 1920 900",preserveAspectRatio:"xMidYMid meet",style:x.svg},r.a.createElement("circle",{cx:"900",cy:"450",r:"350",fill:"#FE6E3D"}),r.a.createElement("circle",{cx:"1300",cy:"250",r:"250",fill:"#F7F2EA"}),r.a.createElement("path",{id:"textCirclePath",d:"M 1100,250 a 200,200 0 1,1 399,0 a 200,200 0 1,1 -399,0",fill:"none"}),r.a.createElement("text",{fontSize:"22",fill:"#FE6E3D",fontFamily:"Loos Extended",letterSpacing:"1"},r.a.createElement("textPath",{href:"#textCirclePath",startOffset:"50%",textAnchor:"middle"},"\uc18c\ub9ac\ub97c \uadf8\ub9ac\ub294 \uc791\uace1\uac00 Anthony Braxton\uc740 \ub2e4\uc591\ud55c \uc18c\ub9ac\ub97c \uc2dc\uac01\uc801 \ub3c4\ud615\uc73c\ub85c \ubd84\ub958\ud574, \uc2e4\ud5d8\uc801\uc774\uace0 \ub17c\ub9ac\uc801\uc778 \ubc29\uc2dd\uc73c\ub85c \uc791\uace1\ud588\uc2b5\ub2c8\ub2e4. \uadf8\uc758 \ubc29\uc2dd\ucc98\ub7fc, \uc18c\ub9ac\ub97c \uc9c1\uad00\uc801\uc73c\ub85c \ub2e4\ub8f0 \uc218 \uc788\ub294 \ucc3d\uc758\uc801\uc778 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uac1c\ubc1c\ud558\uace0\uc790 \ud588\uc2b5\ub2c8\ub2e4. \uc774 \ud504\ub85c\uc81d\ud2b8\ub294 Anthony Braxton\uc758 \uc74c\uc545 \uae30\ud638\ud654 \uccb4\uacc4\uc5d0\uc11c \uc601\uac10\uc744 \ubc1b\uc558\uc2b5\ub2c8\ub2e4.")),r.a.createElement("circle",{cx:"50",cy:"80",r:"14",fill:"#FE6E3D"}),r.a.createElement("circle",{cx:"50",cy:"130",r:"14",fill:"#FE6E3D"}),r.a.createElement("rect",{x:"40",y:"800",width:"14",height:"60",fill:"#FE6E3D"})),r.a.createElement("img",{src:"/harmony_new/img/ab.png",alt:"Anthony Braxton",style:{position:"absolute",top:"350px",left:"200px",width:"400px",animation:"spin 10s linear infinite",transformOrigin:"center center"}}),r.a.createElement("style",null,"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "))};var F=function(){const e=Object(o.useRef)(null),t=Object(o.useRef)(null),n=Object(o.useRef)(null),l=Object(o.useRef)(null),[a,i]=Object(o.useState)(!1),[c,s]=Object(o.useState)(!1),[u,d]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{e.current=new Audio("/harmony_new/sound/for_site/typewriter.mp3"),e.current.volume=.5;const t=()=>{e.current&&(e.current.currentTime=0,e.current.play().catch(e=>console.error("\uc624\ub514\uc624 \uc7ac\uc0dd \uc2e4\ud328:",e)))},n=()=>t(),o=()=>t();return window.addEventListener("wheel",n),window.addEventListener("click",o),()=>{window.removeEventListener("wheel",n),window.removeEventListener("click",o)}},[]),Object(o.useEffect)(()=>{const e=new IntersectionObserver(e=>{let[t]=e;return i(t.isIntersecting)},{threshold:.1});return t.current&&e.observe(t.current),()=>e.disconnect()},[]),Object(o.useEffect)(()=>{const e=new IntersectionObserver(e=>{let[t]=e;return s(t.isIntersecting)},{threshold:.1});return n.current&&e.observe(n.current),()=>e.disconnect()},[]),Object(o.useEffect)(()=>{const e=new IntersectionObserver(e=>{let[t]=e;return d(t.isIntersecting)},{threshold:.1});return l.current&&e.observe(l.current),()=>e.disconnect()},[]),r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#section1"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"#section3"},"Composite")),r.a.createElement("li",null,r.a.createElement("a",{href:"#section4"},"Gallery")),r.a.createElement("li",null,r.a.createElement("a",{href:"#section5"},"Anthony Braxton")))),r.a.createElement("section",{className:"section",id:"section1",style:{position:"relative",height:"100vh",overflow:"hidden"},ref:t},r.a.createElement(b,{isVisible:a}),r.a.createElement("h1",{style:{position:"absolute",top:"5vh",left:0,width:"100%",height:"40vh",overflow:"hidden",margin:0,padding:0,zIndex:2,pointerEvents:"none",display:"flex",alignItems:"center"}},r.a.createElement("div",{className:"marquee"},r.a.createElement("div",{className:"marquee-content"},[...Array(10)].map((e,t)=>r.a.createElement("span",{key:t,style:{display:"inline-block",marginRight:"0vw"}},r.a.createElement("span",{style:{color:"#FE6E3D",fontFamily:"Loos ExtraWide",fontWeight:400}},"H"),r.a.createElement("span",{style:{color:"#000000",fontFamily:"Loos Extended",fontWeight:400}},"a"),r.a.createElement("span",{style:{color:"#6EC1A1",fontFamily:"Loos ExtraWide",fontWeight:500}},"r"),r.a.createElement("span",{style:{color:"#F5BC62",fontFamily:"Loos ExtraWide",fontWeight:300}},"m"),r.a.createElement("span",{style:{color:"#4284F3",fontFamily:"Loos ExtraWide",fontWeight:700}},"o"),r.a.createElement("span",{style:{color:"#000000",fontFamily:"Loos ExtraWide",fontWeight:300}},"n"),r.a.createElement("span",{style:{color:"#EF7A88",fontFamily:"Loos ExtraWide",fontWeight:500}},"y"))))))),r.a.createElement("section",{id:"section2",ref:l,style:{backgroundColor:"#4285f4"}},r.a.createElement("div",null,r.a.createElement(P,{isVisible:u}))),r.a.createElement("section",{className:"section",id:"section3",ref:n},r.a.createElement("div",{className:"content"},r.a.createElement(k,{isVisible:c}))),r.a.createElement("section",{className:"section",id:"section4",style:{height:"100vh",overflowY:"auto",paddingTop:"40%",backgroundColor:"#6EC1A1"}},r.a.createElement("div",{className:"content"},r.a.createElement(w,null))),r.a.createElement("section",{className:"section",id:"section5",style:{backgroundColor:"#F7F2EA",height:"100vh",width:"100vw",margin:0,padding:0,overflow:"hidden"}},r.a.createElement("div",{className:"content"},r.a.createElement(M,null)," ")))};var W=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then(t=>{let{getCLS:n,getFID:o,getFCP:r,getLCP:l,getTTFB:a}=t;n(e),o(e),r(e),l(e),a(e)})};a.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null))),W()}},[[12,1,2]]]);
//# sourceMappingURL=main.3ffefe18.chunk.js.map